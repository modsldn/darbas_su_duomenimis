Kam reikia normalizacijos?
1. Reduce redundancy (pertekliu duomenu)
2. Ensure that only related data is in each of the table
3. Prevent issues when doing DML

1. Apziurekime sukurtas lenteles 'courses', 'employees', 'course_employees'

CREATE TABLE `course_employees` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `course_id` int unsigned DEFAULT NULL,
  `employee_id` int unsigned DEFAULT NULL,
  `hours` int NOT NULL,
  PRIMARY KEY (`id`),
  KEY `course_id` (`course_id`),
  KEY `employee_id` (`employee_id`),
  CONSTRAINT `course_employees_ibfk_1` FOREIGN KEY (`course_id`) REFERENCES `courses` (`id`),
  CONSTRAINT `course_employees_ibfk_2` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`)
)

CREATE TABLE `employees` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `first_name` varchar(100) CHARACTER SET latin1 COLLATE latin1_general_ci NOT NULL,
  `last_name` varchar(100) CHARACTER SET latin1 COLLATE latin1_general_ci NOT NULL,
  `hourly_rate` float(5,2) DEFAULT NULL,
  `hire_date` date NOT NULL,
  PRIMARY KEY (`id`)
)

CREATE TABLE `courses` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(200) CHARACTER SET latin1 COLLATE latin1_general_ci NOT NULL,
  `value` float(7,1) DEFAULT NULL,
  `start_date` date NOT NULL,
  `end_date` date DEFAULT NULL,
  PRIMARY KEY (`id`)
)


2. Pasiekime 1NF (1 normalizacijos forma)

-- Cia sukuriu primary key
alter table customers modify id int unsigned

-- isskaidom contact_person_and_role
alter table customers change column contact_person_and_role contact_person varchar(255);
alter table customers add column contact_person_role varchar(255) after contact_person;

create table course_feedbacks (
id int unsigned auto_increment primary key,
course_id int,
customer_id int,
course_feedback text
);

alter table customers 
	drop column course1_id,
	drop column course1_feedback,
	drop column course2_id,
	drop column course2_feedback;

3. Pasiekime 2NF (2 normalizacijos forma)

create table contact_person (
id int unsigned primary key auto_increment,
name varchar(255),
person_role varchar(255),
phone_number varchar(12)
)

alter table customers 
	drop column contact_person_id,
	drop column contact_person,
	drop column contact_person_role

alter table customers 
add column contact_person_id int unsigned;

alter table customers add foreign key (contact_person_id) references contact_person(id);

4. Pasiekime 3NF (3 normalizacijos forma)

CREATE TABLE `zip_code` (
  `zip` varchar(5) NOT NULL,
  `city` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`zip`)
)